var matomoUrl,matomoOptOutIsTracked;(function(c,a){if(typeof define=='function'&&define.amd)define(['exports','module'],a);else if(typeof exports!='undefined'&&typeof module!='undefined')a(exports,module);else{var b={exports:{}};a(b.exports,b),c.fetchJsonp=b.exports}})(this,function(g,e){'use strict';var c={timeout:5e3,jsonpCallback:'callback',jsonpCallbackFunction:null};function f(){return'jsonp_'+Date.now()+'_'+Math.ceil(Math.random()*1e5)}function a(a){try{delete window[a]}catch(b){window[a]=void 0}}function b(b){var a=document.getElementById(b);a&&document.getElementsByTagName('head')[0].removeChild(a)}function d(g){var d=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],h=g,j=d.timeout||c.timeout,i=d.jsonpCallback||c.jsonpCallback,e=void 0;return new Promise(function(n,m){var c=d.jsonpCallbackFunction||f(),l=i+'_'+c,k;window[c]=function(d){n({ok:!0,json:function(){return Promise.resolve(d)}}),e&&clearTimeout(e),b(l),a(c)},h+=h.indexOf('?')===-1?'?':'&',k=document.createElement('script'),k.setAttribute('src',''+h+i+'='+c),d.charset&&k.setAttribute('charset',d.charset),k.id=l,document.getElementsByTagName('head')[0].appendChild(k),e=setTimeout(function(){m(new Error('JSONP request to '+g+' timed out')),a(c),b(l),window[c]=function(){a(c)}},j),k.onerror=function(){m(new Error('JSONP request to '+g+' failed')),a(c),b(l),e&&clearTimeout(e)}})}e.exports=d}),'use strict',matomoUrl=document.querySelector('script[data-id="matomo-optout"]').getAttribute('data-matomo-optout-url'),matomoOptOutIsTracked=!0;function matomoOptOutTrack(){var a=matomoUrl+'/index.php?module=API&method=AjaxOptOut.doTrack&format=json';fetchJsonp(a).then(function(a){return a.json()}).then(function(a){matomoOptOutStatus()}).catch(function(a){console.log('parsing failed',a)})}function matomoOptOutBlock(){var a=matomoUrl+'/index.php?module=API&method=AjaxOptOut.doIgnore&format=json';fetchJsonp(a).then(function(a){return a.json()}).then(function(){matomoOptOutStatus()}).catch(function(a){console.log('parsing failed',a)})}function matomoOptOutStatus(){var a=matomoUrl+'/index.php?module=API&method=AjaxOptOut.isTracked&format=json';fetchJsonp(a).then(function(a){return a.json()}).then(function(a){matomoOptOutIsTracked=a.value,updateText()}).catch(function(a){console.log('parsing failed',a)})}function updateText(){var a=document.querySelector('.MatomoOptout-message--track'),b=document.querySelector('.MatomoOptout-message--block');matomoOptOutIsTracked===!0?(a.classList.remove('is-hidden'),b.classList.add('is-hidden')):(b.classList.remove('is-hidden'),a.classList.add('is-hidden'))}function documentReady(){var a,b;matomoOptOutStatus(),a=document.querySelector('.MatomoOptout-button--track'),a.addEventListener('click',function(a){a.preventDefault(),a.stopPropagation(),matomoOptOutTrack()}),b=document.querySelector('.MatomoOptout-button--block'),b.addEventListener('click',function(a){a.preventDefault(),a.stopPropagation(),matomoOptOutStatus(),matomoOptOutIsTracked===!0&&matomoOptOutBlock()})}document.readyState!=='loading'?documentReady():document.addEventListener('DOMContentLoaded',documentReady)