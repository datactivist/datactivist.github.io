(function(n,e){if(typeof define=="function"&&define.amd)define(["exports","module"],e);else if(typeof exports!="undefined"&&typeof module!="undefined")e(exports,module);else{var t={exports:{}};e(t.exports,t),n.fetchJsonp=t.exports}})(this,function(a,o){'use strict';var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function i(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function e(e){try{delete window[e]}catch(t){window[e]=void 0}}function t(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}function s(a){var s=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],r=a,l=s.timeout||n.timeout,c=s.jsonpCallback||n.jsonpCallback,o=void 0;return new Promise(function(m,h){var n=s.jsonpCallbackFunction||i(),d,u=c+"_"+n;window[n]=function(s){m({ok:!0,json:function(){return Promise.resolve(s)}}),o&&clearTimeout(o),t(u),e(n)},r+=r.indexOf("?")===-1?"?":"&",d=document.createElement("script"),d.setAttribute("src",''+r+c+"="+n),s.charset&&d.setAttribute("charset",s.charset),d.id=u,document.getElementsByTagName("head")[0].appendChild(d),o=setTimeout(function(){h(new Error("JSONP request to "+a+" timed out")),e(n),t(u),window[n]=function(){e(n)}},l),d.onerror=function(){h(new Error("JSONP request to "+a+" failed")),e(n),t(u),o&&clearTimeout(o)}})}o.exports=s}),"use strict";var matomoUrl=document.querySelector('script[data-id="matomo-optout"]').getAttribute("data-matomo-optout-url"),matomoOptOutIsTracked=!0;function matomoOptOutTrack(){var e=matomoUrl+"/index.php?module=API&method=AjaxOptOut.doTrack&format=json";fetchJsonp(e).then(function(e){return e.json()}).then(function(){matomoOptOutStatus()}).catch(function(e){console.log("parsing failed",e)})}function matomoOptOutBlock(){var e=matomoUrl+"/index.php?module=API&method=AjaxOptOut.doIgnore&format=json";fetchJsonp(e).then(function(e){return e.json()}).then(function(){matomoOptOutStatus()}).catch(function(e){console.log("parsing failed",e)})}function matomoOptOutStatus(){var e=matomoUrl+"/index.php?module=API&method=AjaxOptOut.isTracked&format=json";fetchJsonp(e).then(function(e){return e.json()}).then(function(e){matomoOptOutIsTracked=e.value,updateText()}).catch(function(e){console.log("parsing failed",e)})}function updateText(){var e=document.querySelector(".MatomoOptout-message--track"),t=document.querySelector(".MatomoOptout-message--block");matomoOptOutIsTracked===!0?(e.classList.remove("is-hidden"),t.classList.add("is-hidden")):(t.classList.remove("is-hidden"),e.classList.add("is-hidden"))}function documentReady(){matomoOptOutStatus();var e=document.querySelector(".MatomoOptout-button--track"),t;e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),matomoOptOutTrack()}),t=document.querySelector(".MatomoOptout-button--block"),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),matomoOptOutStatus(),matomoOptOutIsTracked===!0&&matomoOptOutBlock()})}document.readyState!=="loading"?documentReady():document.addEventListener("DOMContentLoaded",documentReady)